# Basketball Analysis - System Architecture

Visual diagrams and architecture documentation for the Basketball Shooting Analysis application.

---

## System Overview Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           BASKETBALL SHOOTING ANALYSIS                       â”‚
â”‚                              System Architecture                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              FRONTEND (Next.js)                              â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   UPLOAD     â”‚  â”‚   RESULTS    â”‚  â”‚   PROFILE    â”‚  â”‚   ELITE      â”‚    â”‚
â”‚  â”‚   PAGE       â”‚  â”‚   PAGE       â”‚  â”‚   PAGE       â”‚  â”‚   SHOOTERS   â”‚    â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚   PAGE       â”‚    â”‚
â”‚  â”‚  page.tsx    â”‚  â”‚ results/     â”‚  â”‚ profile/     â”‚  â”‚ elite-       â”‚    â”‚
â”‚  â”‚              â”‚  â”‚ demo/page    â”‚  â”‚ page.tsx     â”‚  â”‚ shooters/    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         â”‚                 â”‚                                                  â”‚
â”‚         â–¼                 â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        COMPONENTS                                    â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  â”‚   upload/   â”‚  â”‚  analysis/  â”‚  â”‚   icons/    â”‚  â”‚    ui/     â”‚ â”‚    â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚  â”‚            â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ MediaUpload â”‚  â”‚ Dashboard   â”‚  â”‚ MedalIcons  â”‚  â”‚ Button     â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ VideoUpload â”‚  â”‚ Skeleton    â”‚  â”‚ StatusIcon  â”‚  â”‚ Card       â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ PlayerForm  â”‚  â”‚ AutoShots   â”‚  â”‚ FormMetric  â”‚  â”‚ Input      â”‚ â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                     STATE MANAGEMENT (Zustand)                       â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚    â”‚
â”‚  â”‚  â”‚     analysisStore.ts     â”‚  â”‚     profileStore.ts      â”‚         â”‚    â”‚
â”‚  â”‚  â”‚                          â”‚  â”‚                          â”‚         â”‚    â”‚
â”‚  â”‚  â”‚ - uploadedFile           â”‚  â”‚ - profile                â”‚         â”‚    â”‚
â”‚  â”‚  â”‚ - mediaType              â”‚  â”‚ - isLoading              â”‚         â”‚    â”‚
â”‚  â”‚  â”‚ - visionAnalysisResult   â”‚  â”‚                          â”‚         â”‚    â”‚
â”‚  â”‚  â”‚ - isAnalyzing            â”‚  â”‚                          â”‚         â”‚    â”‚
â”‚  â”‚  â”‚ - analysisProgress       â”‚  â”‚                          â”‚         â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SERVICES LAYER                                  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ visionAnalysis  â”‚  â”‚ videoAnalysis   â”‚  â”‚ sessionStorage  â”‚             â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚             â”‚
â”‚  â”‚ analyzeForm()   â”‚  â”‚ analyzeVideo()  â”‚  â”‚ saveSession()   â”‚             â”‚
â”‚  â”‚ checkHealth()   â”‚  â”‚ convertFormat() â”‚  â”‚ getAllSessions()â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚           â”‚                    â”‚                    â”‚                       â”‚
â”‚           â–¼                    â–¼                    â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ coachingInsightsâ”‚  â”‚ comparisonAlgo  â”‚  â”‚ gamification    â”‚             â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚             â”‚
â”‚  â”‚ generateTip()   â”‚  â”‚ findMatches()   â”‚  â”‚ addPoints()     â”‚             â”‚
â”‚  â”‚ getReport()     â”‚  â”‚ compareUser()   â”‚  â”‚ checkBadges()   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚                 â”‚
                    â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   NEXT.JS API ROUTES    â”‚ â”‚   PYTHON        â”‚ â”‚   EXTERNAL SERVICES     â”‚
â”‚   (src/app/api/)        â”‚ â”‚   BACKENDS      â”‚ â”‚                         â”‚
â”‚                         â”‚ â”‚                 â”‚ â”‚                         â”‚
â”‚ /detect-basketball      â”‚ â”‚ Port 5001:      â”‚ â”‚ AWS S3 (Image Storage)  â”‚
â”‚ /upload                 â”‚ â”‚ - Pose Detectionâ”‚ â”‚                         â”‚
â”‚ /save-analysis          â”‚ â”‚ - YOLOv8-pose   â”‚ â”‚ Roboflow (Ball Detect)  â”‚
â”‚ /profile                â”‚ â”‚ - MediaPipe     â”‚ â”‚                         â”‚
â”‚ /analysis-history       â”‚ â”‚                 â”‚ â”‚ PostgreSQL (Database)   â”‚
â”‚ /compare-shooters       â”‚ â”‚ Port 5002:      â”‚ â”‚                         â”‚
â”‚                         â”‚ â”‚ - Video Analysisâ”‚ â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DATA LAYER                                      â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        STATIC DATA (src/data/)                       â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ eliteShooters.ts â”‚  â”‚ shootingFlaws    â”‚  â”‚ drillDatabase.ts â”‚  â”‚    â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚ Database.ts      â”‚  â”‚                  â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ 50+ NBA shooters â”‚  â”‚ Flaw detection   â”‚  â”‚ Practice drills  â”‚  â”‚    â”‚
â”‚  â”‚  â”‚ with metrics     â”‚  â”‚ rules & feedback â”‚  â”‚ by skill level   â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                     BROWSER STORAGE (localStorage)                   â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Key: 'basketball_analysis_sessions'                                 â”‚    â”‚
â”‚  â”‚  Data: Array of AnalysisSession objects                              â”‚    â”‚
â”‚  â”‚  - Session ID, timestamp, media type                                 â”‚    â”‚
â”‚  â”‚  - Images (base64), screenshots                                      â”‚    â”‚
â”‚  â”‚  - Analysis results, scores, flaws                                   â”‚    â”‚
â”‚  â”‚  - Player profile snapshot                                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow: Image Analysis

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        IMAGE ANALYSIS DATA FLOW                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER ACTION                    COMPONENT/SERVICE              DATA TRANSFORMATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Select Images               MediaUpload.tsx                File[] â†’ base64[]
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ğŸ“· ğŸ“· ğŸ“· â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ handleFile  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ base64      â”‚
   â”‚ ğŸ“· ğŸ“· ğŸ“· â”‚                â”‚ Upload()    â”‚                â”‚ strings     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
2. Store in State              analysisStore.ts               State Update
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ setUploadedFile â”‚
                               â”‚ setTeaserFrames â”‚
                               â”‚ setFullFrames   â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
3. Click "Analyze"             page.tsx                       Trigger Analysis
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ handleAnalyze() â”‚
                               â”‚ handleImage     â”‚
                               â”‚ Analysis()      â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
4. Ball Detection              /api/detect-basketball         {x, y, confidence}
   (Optional)                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ Roboflow API    â”‚
                               â”‚ call            â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
5. Pose Detection              visionAnalysis.ts              VisionAnalysisResult
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ POST to         â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ keypoints: {}   â”‚
                               â”‚ localhost:5001  â”‚            â”‚ angles: {}      â”‚
                               â”‚ /api/detect-poseâ”‚            â”‚ score: number   â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
6. Flaw Detection              shootingFlawsDatabase.ts       Flaw[]
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ detectFlaws     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ [{id, severity, â”‚
                               â”‚ FromAngles()    â”‚            â”‚   description}] â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
7. Score Calculation           shootingFlawsDatabase.ts       ShooterLevel
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ getShooterLevel â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ {level, label,  â”‚
                               â”‚ (score)         â”‚            â”‚  color}         â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
8. Create Session              sessionStorage.ts              AnalysisSession
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ createSession   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Complete sessionâ”‚
                               â”‚ FromAnalysis()  â”‚            â”‚ object          â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
9. Save to Storage             sessionStorage.ts              localStorage
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ saveSession()   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ localStorage
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
10. Redirect                   Next.js Router                 URL Change
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ router.push(    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ /results/demo
                               â”‚ '/results/demo')â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
11. Load & Display             results/demo/page.tsx          UI Render
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚ getLatestSessionâ”‚
                               â”‚ ByMediaType()   â”‚
                               â”‚                 â”‚
                               â”‚ Render:         â”‚
                               â”‚ - Skeleton      â”‚
                               â”‚ - Angles        â”‚
                               â”‚ - Score         â”‚
                               â”‚ - Comparisons   â”‚
                               â”‚ - Coaching      â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          COMPONENT HIERARCHY                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

App (layout.tsx)
â”œâ”€â”€ Header
â”‚   â””â”€â”€ Navigation Links
â”‚
â”œâ”€â”€ Main Content (varies by route)
â”‚   â”‚
â”‚   â”œâ”€â”€ "/" - Home/Upload Page (page.tsx)
â”‚   â”‚   â”œâ”€â”€ MediaTypeSelector
â”‚   â”‚   â”‚   â”œâ”€â”€ ImageOption
â”‚   â”‚   â”‚   â””â”€â”€ VideoOption
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ [if image mode]
â”‚   â”‚   â”‚   â””â”€â”€ MediaUpload
â”‚   â”‚   â”‚       â”œâ”€â”€ ImageRequirements
â”‚   â”‚   â”‚       â”œâ”€â”€ AngleSlots (7x)
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ FileInput
â”‚   â”‚   â”‚       â””â”€â”€ ShotBreakdownStrip
â”‚   â”‚   â”‚           â””â”€â”€ FrameThumbnails
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ [if video mode]
â”‚   â”‚   â”‚   â””â”€â”€ VideoUploadInline
â”‚   â”‚   â”‚       â”œâ”€â”€ DropZone
â”‚   â”‚   â”‚       â””â”€â”€ VideoPreview
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ PlayerProfileForm
â”‚   â”‚   â”‚   â”œâ”€â”€ NameInput
â”‚   â”‚   â”‚   â”œâ”€â”€ EmailInput
â”‚   â”‚   â”‚   â”œâ”€â”€ PositionSelect
â”‚   â”‚   â”‚   â”œâ”€â”€ SkillLevelSelect
â”‚   â”‚   â”‚   â””â”€â”€ BodyMeasurements
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ AnalyzeButton
â”‚   â”‚
â”‚   â”œâ”€â”€ "/results/demo" - Results Page
â”‚   â”‚   â”œâ”€â”€ AnalysisDashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ MainImageDisplay
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AnnotatedImageDisplay
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SkeletonOverlay
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AngleIndicators
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MedalIcon
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ FormScoreCard
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ScoreCircle
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LevelBadge
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StatusIndicators
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ MetricsGrid
â”‚   â”‚   â”‚       â””â”€â”€ MetricCard (multiple)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ EliteShooterComparison
â”‚   â”‚   â”‚   â”œâ”€â”€ TopMatch (Gold Medal)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ShooterPhoto
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ShooterStats
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SimilarityScore
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ AdditionalMatches (4x)
â”‚   â”‚   â”‚       â”œâ”€â”€ MedalIcon (Silver, Bronze, etc.)
â”‚   â”‚   â”‚       â””â”€â”€ ShooterCard
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ CoachingFeedback
â”‚   â”‚   â”‚   â”œâ”€â”€ FlawsList
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FlawCard (multiple)
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ SeverityBadge
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ Description
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ FixSuggestion
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ DrillRecommendations
â”‚   â”‚   â”‚       â””â”€â”€ DrillCard (multiple)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ AutoScreenshots
â”‚   â”‚       â””â”€â”€ ScreenshotThumbnail (multiple)
â”‚   â”‚           â””â”€â”€ ExpandedModal
â”‚   â”‚
â”‚   â”œâ”€â”€ "/profile" - Profile Page
â”‚   â”‚   â””â”€â”€ ProfileWizard
â”‚   â”‚       â””â”€â”€ ProfileCards
â”‚   â”‚
â”‚   â””â”€â”€ "/elite-shooters" - Database Page
â”‚       â””â”€â”€ ShooterGrid
â”‚           â””â”€â”€ ShooterCard (multiple)
â”‚
â””â”€â”€ Footer
    â””â”€â”€ FooterLinks
```

---

## State Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            STATE FLOW DIAGRAM                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   USER ACTION   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                           â”‚                           â”‚
           â–¼                           â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Upload Image      â”‚   â”‚   Start Analysis    â”‚   â”‚   View Results      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                         â”‚                         â”‚
           â–¼                         â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ analysisStore       â”‚   â”‚ analysisStore       â”‚   â”‚ sessionStorage      â”‚
â”‚ .setUploadedFile()  â”‚   â”‚ .setIsAnalyzing()   â”‚   â”‚ .getLatestSession() â”‚
â”‚ .setTeaserFrames()  â”‚   â”‚ .setProgress()      â”‚   â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                         â”‚                         â”‚
           â–¼                         â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STATE UPDATED       â”‚   â”‚ STATE UPDATED       â”‚   â”‚ DATA LOADED         â”‚
â”‚                     â”‚   â”‚                     â”‚   â”‚                     â”‚
â”‚ uploadedFile: File  â”‚   â”‚ isAnalyzing: true   â”‚   â”‚ session: {          â”‚
â”‚ teaserFrames: [...] â”‚   â”‚ progress: 0-100     â”‚   â”‚   images,           â”‚
â”‚ mediaType: "IMAGE"  â”‚   â”‚                     â”‚   â”‚   analysis,         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   scores            â”‚
           â”‚                         â”‚              â”‚ }                   â”‚
           â”‚                         â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                         â”‚                         â”‚
           â–¼                         â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI RE-RENDERS       â”‚   â”‚ PROGRESS SCREEN     â”‚   â”‚ RESULTS DISPLAYED   â”‚
â”‚                     â”‚   â”‚                     â”‚   â”‚                     â”‚
â”‚ - Show preview      â”‚   â”‚ - Show progress bar â”‚   â”‚ - Skeleton overlay  â”‚
â”‚ - Enable analyze    â”‚   â”‚ - Status messages   â”‚   â”‚ - Angle indicators  â”‚
â”‚   button            â”‚   â”‚                     â”‚   â”‚ - Score cards       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ ANALYSIS COMPLETE   â”‚
                          â”‚                     â”‚
                          â”‚ .setVisionResult()  â”‚
                          â”‚ .setIsAnalyzing(f)  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ sessionStorage      â”‚
                          â”‚ .saveSession()      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ REDIRECT TO RESULTS â”‚
                          â”‚ /results/demo       â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Dependencies Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FILE DEPENDENCIES MAP                                â”‚
â”‚                    (What imports what)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

src/app/page.tsx
â”œâ”€â”€ imports from @/components/upload
â”‚   â”œâ”€â”€ MediaUpload
â”‚   â”œâ”€â”€ VideoUploadInline
â”‚   â””â”€â”€ PlayerProfileForm
â”œâ”€â”€ imports from @/stores
â”‚   â””â”€â”€ useAnalysisStore
â”œâ”€â”€ imports from @/services
â”‚   â”œâ”€â”€ analyzeShootingForm (visionAnalysis)
â”‚   â”œâ”€â”€ analyzeVideoShooting (videoAnalysis)
â”‚   â””â”€â”€ saveSession, createSessionFromAnalysis (sessionStorage)
â”œâ”€â”€ imports from @/data
â”‚   â”œâ”€â”€ detectFlawsFromAngles
â”‚   â””â”€â”€ getShooterLevel
â””â”€â”€ imports from @/lib
    â””â”€â”€ cn (utils)

src/app/results/demo/page.tsx
â”œâ”€â”€ imports from @/components/analysis
â”‚   â”œâ”€â”€ AnalysisDashboard
â”‚   â”œâ”€â”€ AutoScreenshots
â”‚   â”œâ”€â”€ SkeletonOverlay
â”‚   â””â”€â”€ AngleIndicators
â”œâ”€â”€ imports from @/components/icons
â”‚   â”œâ”€â”€ MedalIcon
â”‚   â””â”€â”€ StatusIcon
â”œâ”€â”€ imports from @/stores
â”‚   â””â”€â”€ useAnalysisStore
â”œâ”€â”€ imports from @/services
â”‚   â””â”€â”€ getLatestSessionByMediaType (sessionStorage)
â”œâ”€â”€ imports from @/data
â”‚   â”œâ”€â”€ ALL_ELITE_SHOOTERS
â”‚   â””â”€â”€ SHOOTING_FLAWS
â””â”€â”€ imports from @/lib
    â””â”€â”€ cn (utils)

src/services/visionAnalysis.ts
â”œâ”€â”€ imports from @/lib
â”‚   â””â”€â”€ fileToBase64 (utils)
â””â”€â”€ NO component imports (pure service)

src/services/sessionStorage.ts
â””â”€â”€ NO external imports (pure service)

src/stores/analysisStore.ts
â”œâ”€â”€ imports from zustand
â””â”€â”€ imports from @/types
    â””â”€â”€ PlayerProfile, MediaType, etc.

src/components/upload/MediaUpload.tsx
â”œâ”€â”€ imports from @/stores
â”‚   â””â”€â”€ useAnalysisStore
â”œâ”€â”€ imports from @/lib
â”‚   â””â”€â”€ cn (utils)
â””â”€â”€ imports from @/components/ui
    â””â”€â”€ Button, Card, etc.

src/components/icons/MedalIcons.tsx
â””â”€â”€ NO external imports (self-contained SVG)
```

---

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DEPLOYMENT ARCHITECTURE                               â”‚
â”‚                          (Abacus AI Setup)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ABACUS AI CLOUD                                 â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                     NEXT.JS APPLICATION                              â”‚    â”‚
â”‚  â”‚                     (Main Frontend + API Routes)                     â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Build Command: prisma generate && next build                        â”‚    â”‚
â”‚  â”‚  Start Command: next start                                           â”‚    â”‚
â”‚  â”‚  Port: 3000                                                          â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Environment Variables:                                              â”‚    â”‚
â”‚  â”‚  - NEXT_PUBLIC_HYBRID_API_URL                                        â”‚    â”‚
â”‚  â”‚  - NEXT_PUBLIC_VIDEO_API_URL                                         â”‚    â”‚
â”‚  â”‚  - DATABASE_URL                                                      â”‚    â”‚
â”‚  â”‚  - AWS_ACCESS_KEY_ID                                                 â”‚    â”‚
â”‚  â”‚  - AWS_SECRET_ACCESS_KEY                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚                                       â”‚
â”‚                                      â”‚ HTTP                                  â”‚
â”‚                                      â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                     PYTHON POSE DETECTION                            â”‚    â”‚
â”‚  â”‚                     (Separate Service)                               â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Framework: FastAPI / Flask                                          â”‚    â”‚
â”‚  â”‚  Port: 5001                                                          â”‚    â”‚
â”‚  â”‚  Endpoints:                                                          â”‚    â”‚
â”‚  â”‚  - POST /api/detect-pose                                             â”‚    â”‚
â”‚  â”‚  - GET /health                                                       â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Dependencies:                                                       â”‚    â”‚
â”‚  â”‚  - YOLOv8-pose                                                       â”‚    â”‚
â”‚  â”‚  - MediaPipe                                                         â”‚    â”‚
â”‚  â”‚  - OpenCV                                                            â”‚    â”‚
â”‚  â”‚  - NumPy                                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                     PYTHON VIDEO ANALYSIS                            â”‚    â”‚
â”‚  â”‚                     (Separate Service)                               â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Port: 5002                                                          â”‚    â”‚
â”‚  â”‚  Endpoints:                                                          â”‚    â”‚
â”‚  â”‚  - POST /api/analyze-video                                           â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Dependencies:                                                       â”‚    â”‚
â”‚  â”‚  - OpenCV                                                            â”‚    â”‚
â”‚  â”‚  - FFmpeg                                                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚ External APIs
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           EXTERNAL SERVICES                                  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚     AWS S3       â”‚  â”‚    Roboflow      â”‚  â”‚   PostgreSQL     â”‚          â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚          â”‚
â”‚  â”‚  Image Storage   â”‚  â”‚  Ball Detection  â”‚  â”‚  User Data       â”‚          â”‚
â”‚  â”‚                  â”‚  â”‚  API             â”‚  â”‚  Analysis Historyâ”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*Architecture documentation for Basketball Shooting Analysis - Abacus AI Deployment*





